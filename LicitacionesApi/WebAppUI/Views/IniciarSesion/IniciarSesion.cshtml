@model DTO.Usuario
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutNoMenu.cshtml";
}

<script src="~/Scripts/View/IniciarSesionHandler.js"></script>

@using (Html.BeginForm("IniciarSesion", "IniciarSesion", FormMethod.Post))
{
    <script src="~/Scripts/View/LocalValidation.js"></script>
    <h2 class="my-5 text-primary">Inicio de sesión</h2>
    if (ViewBag.UserFound != null)
    {

        <div class="alert alert-dismissible alert-warning">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            <h4 class="alert-heading">¡Error en la entrada!</h4>
            <p class="mb-0">Usuario no encontrado o las credenciales son incorrectas.</p>
        </div>
    }


    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div class="card-body">
                        <fieldset>
                            <legend>Ingrese sus credenciales</legend>

                            <div class="form-group">
                                <label for="correoElectronicoInput" class="form-label mt-4">Correo electrónico</label>
                                @Html.TextBoxFor(u => u.CorreoElectronico, new { id = "correoElectronicoInput", @class = "form-control" })
                                @Html.ValidationMessage("usuario", "El campo correo electrónico es requerido.", new { id = "validacionCorreoElectronico", @class = "text-danger" })
                            </div>

                            <div class="form-group">
                                <label for="contrasenaInput" class="form-label mt-4">Contraseña</label>
                                <div class="input-group ps-4">
                                    @Html.PasswordFor(u => u.Contrasena, new { id = "contrasenaInput", @class = "form-control" })
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="show-password" style="cursor: pointer; user-select: none;">
                                            <span class="material-symbols-outlined">
                                                visibility_off
                                            </span>
                                        </span>
                                        <span class="input-group-text d-none" id="hide-password" style="cursor: pointer; user-select: none;">
                                            <span class="material-symbols-outlined">
                                                visibility
                                            </span>
                                        </span>
                                    </div>
                                </div>
                                @Html.ValidationMessage("contrasena", "El campo contraseña es requerido.", new { id = "validacionContrasena", @class = "text-danger" })
                                <a>@Html.ActionLink("Recuperar contraseña", "RecuperarContrasena", "IniciarSesion")</a>
                            </div>

                            <button type="submit" class="btn btn-outline-primary mt-4" id="btn-login">Enviar</button>

                        </fieldset>
                    </div>
                </div>
            </div>
        </div>
    </div>
}